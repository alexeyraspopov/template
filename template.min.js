function View(a,b){this.element=a,this.model=b,this.compile()}function observe(a,b,c){Object.observe(a,function(a){a.filter(function(a){return a.name===b}).forEach(function(a){c(a.object[a.name])})})}View.prototype.compile=function(){var a={acceptNode:function(){return NodeFilter.FILTER_ACCEPT}},b=document.createTreeWalker(this.element,NodeFilter.SHOW_ELEMENT,a,!1),c=b.currentNode;do this.bind(c),c=b.nextNode();while(c)},View.prototype.bind=function(a){Object.keys(a.dataset).filter(function(a){return!!window[a]}).map(function(a){return window[a]}).forEach(function(b){b(a,this.model,a.dataset)},this)},text=function(a,b,c){observe(b,c.text,function(b){a.textContent=b})},model=function(a,b,c){observe(b,c.model,function(b){a.value=b}),a.addEventListener("keyup",function(){b[c.model]=this.value})};